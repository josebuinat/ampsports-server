%% Document footer %%%%%

<% customer = invoice.owner %>
<% biller = invoice.biller %>

\fancyfoot[C]{
\setlength{\unitlength}{1mm}
\begin{picture}(210,0)(0,0)
  \color{black}
  %PREFOOTER
  \put(15,110){
  \makebox(50,0)[l]{
  \begin{minipage}[l]{5cm}
    \fontsize{8pt}{9pt}
    \selectfont
    \begin{flushleft}
      \textbf{<%= safe_text biller.company_legal_name %>} \\
      <%= safe_text biller.company_street_address %> \\
      <%= safe_text "#{biller.company_zip} #{biller.company_city}"  %> \\
    \end{flushleft}
  \end{minipage}
  }
  }
  \put(70,110){
  \makebox(75,0)[l]{
  \begin{minipage}[l]{7.5cm}
    \fontsize{8pt}{9pt}
    \selectfont
    \begin{flushleft}
      Y-tunnus: <%= biller.try(:company_tax_id) %> \\
      Sähköposti: <%= safe_text biller.invoice_sender_email %> \\
      Puhelinnumero: <%= biller.company_phone %> \\
      WWW: <%= safe_text biller.company_website %> \\
    \end{flushleft}
  \end{minipage}
  }
  }
  %FOOTER
  % Bold Vertical lines
  \linethickness{0.5mm}
  %\put(20.32,69.85){\circle{10}}
  \put(20.32,69.85){\line(0,1){31.75}}
  %\put(111.76,27.5166667){\circle{10}}
  \put(111.76,27.5166667){\line(0,1){74.0833333}}
  %\put(124.46,27.5166667){\circle{10}}
  \put(124.46,27.5166667){\line(0,1){16.9333333}}
  %\put(157.48,27.5166667){\circle{10}}
  \put(157.48,27.5166667){\line(0,1){8.46666667}}
  % Bold Horizontal lines
  %\put(111.76,84.6666667){\circle{10}}
  \put(111.76,84.6666667){\line(-1,0){106.68}}
  \put(111.76,84.6666667){\line(1,0){91.44}}
  %\put(111.76,69.85){\circle{10}}
  \put(111.76,69.85){\line(-1,0){106.68}}
  %\put(111.76,44.45){\circle{10}}
  \put(111.76,44.45){\line(1,0){91.44}}
  %\put(111.76,35.9833333){\circle{10}}
  \put(111.76,35.9833333){\line(-1,0){106.68}}
  \put(111.76,35.9833333){\line(1,0){91.44}}
  %\put(111.76,27.5166667){\circle{10}}
  \put(111.76,27.5166667){\line(-1,0){106.68}}
  \put(111.76,27.5166667){\line(1,0){91.44}}
  %\put(52.49333333,29.6333333){\line(1,0){1.69333333}} % Tilinumeron viiva
  %\put(20.32,27.5166667){\circle{10}}
  \put(20.32,27.5166667){\line(0,1){8.46666667}}
  % Normal lines
  \linethickness{0.13mm}
  % Normal Vertical Lines
  \put(161.29,84.6666667){\line(0,1){16.9333333}}
  % Normal Horizontal lines
  \put(20.02,40.2166667){\line(1,0){91.44}}
  % Texts
  % Tilinumero
  \put(0,84.6666667){
  \makebox(19,16.9333333)[r]{
  \begin{minipage}[r]{19mm}
    \fontsize{7pt}{8pt}
    \selectfont
    \begin{flushright}
      Saajan\\
      tilinumero\\
      Mottagarens\\
      kontonummer
    \end{flushright}
  \end{minipage}
  }
  }
  % Saaja
  \put(0,69.85){
  \makebox(19,14.8166667)[r]{
  \begin{minipage}[r]{19mm}
    \fontsize{7pt}{8pt}
    \selectfont
    \begin{flushright}
      Saaja\\
      Mottagare
    \end{flushright}
  \end{minipage}
  }
  }
  % Maksaja
  \put(0,52){
  \makebox(19,14.8166667)[r]{
  \begin{minipage}[r]{19mm}
    \fontsize{7pt}{8pt}
    \selectfont
    \begin{flushright}
      Maksajan\\
      nimi ja\\
      osoite \\
      Betalarens \\
      namn och \\
      adress
    \end{flushright}
  \end{minipage}
  }
  }
  % Allekirjoitus
  \put(0,35.9833333){
  \makebox(19,14.8166667)[r]{
  \begin{minipage}[r]{19mm}
    \fontsize{7pt}{8pt}
    \selectfont
    \begin{flushright}
      Alle-\\
      kirjoitus\\
      Underskrift
    \end{flushright}
  \end{minipage}
  }
  }
  % Tililtä nro
  \put(0,27.5166667){
  \makebox(19,8.46666667)[r]{
  \begin{minipage}[r]{19mm}
    \fontsize{7pt}{8pt}
    \selectfont
    \begin{flushright}
      Tililtä nro\\
      Från konto nr
    \end{flushright}
  \end{minipage}
  }
  }
  % Viitenumero
  \put(111.5,35.9833333){
  \makebox(12.7,8.46666667)[l]{
  \begin{minipage}[l]{12.7mm}
    \fontsize{7pt}{8pt}
    \selectfont
    Viitenro\\
    Ref.nr
  \end{minipage}
  }
  }
  % Eräpäivä
  \put(111.5,27.5166667){
  \makebox(12.7,8.46666667)[l]{
  \begin{minipage}[l]{12.7mm}
    \fontsize{7pt}{8pt}
    \selectfont
    Eräpäivä\\
    Förf.dag
  \end{minipage}
  }
  }
  % <%= biller.try(:currency) == 'usd' ? 'USD' : 'Euro' %>
  \put(157,26.5){
  \makebox(12.7,8.46666667)[tl]{
  \begin{minipage}[tl]{12.7mm}
    \fontsize{7pt}{8pt}
    \selectfont
    <%= biller.try(:currency) == 'usd' ? 'USD' : 'Euro' %>
  \end{minipage}
  }
  }
  % IBAN-ohje
  %\put(111.5,99.5){\circle{10}}
  \put(111.5,98){
  \makebox(12.7,4)[bl]{
  \begin{minipage}[bl]{12.7mm}
    \fontsize{7pt}{8pt}
    \selectfont
    IBAN
  \end{minipage}
  }
  }
  % BIC-ohje
  %\put(157,99.5){\circle{10}}
  \put(160.81,98){
  \makebox(12.7,4)[bl]{
  \begin{minipage}[bl]{12.7mm}
    \fontsize{7pt}{8pt}
    \selectfont
    BIC
  \end{minipage}
  }
  }
  % Tilisiirtoteksti
  \put(4.5,37){
  \begin{sideways}
    \fontsize{8pt}{8.5pt}
    \selectfont
    \textbf{TILISIIRTO GIRERING}
  \end{sideways}
  }
  % Maksu välitetään -teksti
  %\put(150,5){\circle{10}}
  \put(150,5){
  \makebox(52,12)[t]{
  \begin{minipage}[t]{52mm}
    \fontsize{5pt}{5.5pt}
    \selectfont
    Maksu välitetään saajalle vain Suomessa Kotimaan maksujenvälityksen yleisten
    ehtojen mukaisesti ja vain maksajan ilmoittaman tilinumeron perusteella. \\
    Betalningen förmedlas till mottagare endast i Finland enligt Allmänna villkor för
    inrikes betalningsförmedling och endast till det kontonummer betalaren angivit.
  \end{minipage}
  }
  }
  \color{black}
  \fontsize{9pt}{10pt}
  \selectfont
  % Saajan tilinumero
  %\put(20.32,86.5){\circle{10}}
  \put(20.32,86.5){
  \makebox(91.44,16.9333333)[bl]{
  \begin{minipage}[bl]{91.44mm}
    \fontsize{9pt}{10pt}
    \selectfont
    <%= biller.company_iban %>
  \end{minipage}
  }
  }
  % BANK NAME
  \put(20.32,90){
  \makebox(90,14)[bl]{
  \begin{minipage}[bl]{90mm}
    \fontsize{7pt}{8pt}
    \selectfont
    \begin{flushleft}
      Pankki: <%= safe_text biller.try(:bank_name) || '-' %>
    \end{flushleft}
  \end{minipage}
  }
  }
  % Saaja
  \put(20.32,68.25){
  \makebox(91.44,13.7)[tl]{
  \begin{minipage}[tl]{91.44mm}
    \fontsize{9pt}{10pt}
    \selectfont
    <%= safe_text biller.company_legal_name %> \\
  \end{minipage}
  }
  }
  % Maksaja
  \put(20.32,35.9833333){
  \makebox(91.44,29.6333333)[tl]{
  \begin{minipage}[tl]{91.44mm}
    \fontsize{9pt}{10pt}
    \selectfont
    <%= safe_text customer.full_name %> \\
    <%= safe_text customer.street_address %> \\
    <%= safe_text "#{customer.zipcode} #{customer.city}" %> \\
  \end{minipage}
  }
  }
  % Viestiosa
  \put(114.3,44.45){
  \makebox(81.28,38)[tl]{
  \begin{minipage}[tl]{81.28mm}
    \fontsize{9pt}{10pt}
    \selectfont
    Laskunumero: <%= invoice.id %> \\
    Asiakasnumero: <%= customer.id %> \\
    \\
    \\
    \\
    \\
    \\
    Viitenumero mainittava maksaessa!
  \end{minipage}
  }
  }
  % Viitenumero
  \put(132.08,39){ <%= invoice.reference_number %> } % Viitenumero
  \put(132.08,30){ <%= TimeSanitizer.strftime(invoice.due_date, "%d.%m.%Y") %> } % Eräpäivä
  \put(168,30){ <%= number_with_precision(invoice.total, precision: 2) %> } % Summa
  % IBAN
  %\put(121,86.5){\circle{10}}
  \put(121,86.5){
  \makebox(81.28,16.9333333)[bl]{
  \begin{minipage}[bl]{81.28mm}
    \fontsize{9pt}{10pt}
    \selectfont
    <%= biller.company_iban %> \\
    \\
    \\
  \end{minipage}
  }
  }
  % BIC
  %\put(175,86.5){\circle{10}}
  \put(175,86.5){
  \makebox(81.28,16.9333333)[bl]{
  \begin{minipage}[bl]{81.28mm}
    \fontsize{9pt}{10pt}
    \selectfont
    <%= biller.company_bic.presence || '-' %> \\
    \\
    \\
  \end{minipage}
  }
  }
  % Pankki-teksti
  \color{black}
  \fontsize{6pt}{10pt}
  \selectfont
  \put(185,2){ PANKKI BANKEN }
\end{picture}
}
%% Document footer %%%%%
